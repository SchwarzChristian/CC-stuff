version = "1.0"

-- class Component
Component = {}
Component.__index = Component

function new(x, y, width, height)
	local tmp = {}
	setmetatable(tmp, Component)
	tmp.x, tmp.y = x or 1, y or 1
	tmp.width, tmp.height = width or 0, height or 0
	tmp.fgColor, tmp.bgColor = colors.lime, colors.red

	function tmp:setParent(parent)
		self.parent = parent
	end

	function tmp:draw(out)
		_ = self.onDraw and self:onDraw(out)
	end

	function tmp:touch(side, x, y)
		if (x >= self.x  and y >= self.y and x < self.x + self.width and y < self.y + self.height) then
			self:onTouch(side, x, y)
		end
	end
	
	function tmp:click(button, x, y)
		if (x >= self.x and y >= self.y and x <= self.x + self.width and y <= self.y + self.height) then
			self:onClick(button, x, y)
		end
	end
	
	function tmp:remove()
		if (self.id) then self.parent.comp[self.id] = nil end
		self.id = nil
		self.parent = nil
	end
	
	return tmp
end
-- end class

write("Component - " .. version .. "\n")
